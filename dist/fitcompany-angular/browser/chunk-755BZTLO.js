import{a as J}from"./chunk-UGXZ4BV2.js";import{a as K}from"./chunk-QEMDHJXP.js";import{b as A,c as h,d as L,e as G,g as z,h as B,i as R,j,k as q,l as H,m as U,n as Q,p as W,r as Y}from"./chunk-R2MBKBQG.js";import"./chunk-Y5NMKK7J.js";import{B as M,Ca as k,Ga as p,Mb as N,Nb as D,Pb as O,Qb as P,R as I,Sa as c,Sb as $,Ta as n,Ua as o,Va as E,X as b,Y as f,Ya as C,Za as x,_a as m,eb as a,fb as v,gb as g,hb as T,nb as V,sb as w,ta as d,tb as F,vb as S}from"./chunk-4VXNIXON.js";function ie(s,t){if(s&1&&(n(0,"div",26),a(1),o()),s&2){let e=m();d(),g(" ",e.okMsg," ")}}function re(s,t){if(s&1&&(n(0,"div",27),a(1),o()),s&2){let e=m();d(),g(" ",e.errorMsg," ")}}function ne(s,t){if(s&1&&(n(0,"div",27),a(1),o()),s&2){let e=m();d(),g(" ",e.errorMsgInline," ")}}function oe(s,t){s&1&&(n(0,"label",14),a(1,"Producto "),n(2,"span",12),a(3,"*"),o()())}function ae(s,t){if(s&1&&(n(0,"option",42),a(1),o()),s&2){let e=t.$implicit,r=m().index,i=m();c("value",e.id_producto)("disabled",i.isProductoOcupado(e.id_producto,r)),d(),g(" ",e.nombre_producto," ")}}function le(s,t){s&1&&(n(0,"label",14),a(1,"Cantidad "),n(2,"span",12),a(3,"*"),o()())}function se(s,t){s&1&&(n(0,"label",14),a(1,"Precio unit."),o())}function de(s,t){s&1&&(n(0,"label",14),a(1,"Subtotal"),o())}function ce(s,t){if(s&1){let e=C();n(0,"div",28)(1,"div",29),p(2,oe,4,0,"label",30),n(3,"select",31),x("change",function(){let i=b(e).index,l=m();return f(l.onProductoChange(i))}),n(4,"option",32),a(5,"Seleccionar producto"),o(),p(6,ae,2,3,"option",33),o()(),n(7,"div",34),p(8,le,4,0,"label",30),n(9,"input",35),w(10,"number"),x("beforeinput",function(i){let l=b(e).index,u=m();return f(u.onBeforeInputDigits(i,l,6))})("input",function(i){let l=b(e).index,u=m();return f(u.onInputMasked(l,"cantidad",6,i))}),o()(),n(11,"div",36),p(12,se,2,0,"label",30),n(13,"div",37),a(14,"Precio unit:"),o(),n(15,"div",38),a(16),w(17,"currency"),o()(),n(18,"div",36),p(19,de,2,0,"label",30),n(20,"div",37),a(21,"Subtotal:"),o(),n(22,"div",39),a(23),w(24,"currency"),o()(),n(25,"div",40)(26,"button",41),x("click",function(){let i=b(e).index,l=m();return f(l.eliminarLinea(i))}),a(27," \u2715 "),o()()()}if(s&2){let e,r=t.$implicit,i=t.index,l=m();c("formGroupName",i),d(2),c("ngIf",i===0),d(4),c("ngForOf",l.productos),d(2),c("ngIf",i===0),d(),c("value",(e=r.get("cantidad"))!=null&&e.value?F(10,9,(e=r.get("cantidad"))==null?null:e.value,"1.0-0"):""),d(3),c("ngIf",i===0),d(4),g(" ",S(17,12,r.getRawValue().costo_unitario||0,"COP","symbol-narrow","1.0-0")," "),d(3),c("ngIf",i===0),d(4),g(" ",S(24,17,l.subtotal(i),"COP","symbol-narrow","1.0-0")," ")}}function me(s,t){if(s&1){let e=C();n(0,"button",43),x("click",function(){b(e);let i=m();return f(i.cancelarEdicion())}),a(1," Cancelar edici\xF3n "),o()}}function ue(s,t){s&1&&(n(0,"div",44),a(1," No hay registros "),o())}function pe(s,t){if(s&1&&(n(0,"span",58),a(1),o()),s&2){let e=m().$implicit,r=m(2);d(),g(" +",r.getProductosAdicionales(e)," m\xE1s ")}}function ge(s,t){if(s&1&&(n(0,"div",59)(1,"div",60),a(2),o(),n(3,"div",61),a(4),o()()),s&2){let e=m().$implicit,r=m(2);d(2),g(" Todos los productos (",(e.detalles==null?null:e.detalles.length)||0,") "),d(2),g(" ",r.getProductosCompletos(e)," ")}}function xe(s,t){if(s&1){let e=C();n(0,"tr",48)(1,"td",49),a(2),o(),n(3,"td",49),a(4),o(),n(5,"td",51)(6,"div",52)(7,"span",53),a(8),o(),p(9,pe,2,1,"span",54)(10,ge,5,2,"div",55),o()(),n(11,"td",49),a(12),w(13,"currency"),o(),n(14,"td",49),a(15),o(),n(16,"td",49),a(17),o(),n(18,"td",49),a(19),o(),n(20,"td",49)(21,"button",56),x("click",function(){let i=b(e).$implicit,l=m(2);return f(l.editar(i))}),a(22," Editar "),o(),n(23,"button",57),x("click",function(){let i=b(e).$implicit,l=m(2);return f(l.confirmarEliminar(i.id_compra))}),a(24," Eliminar "),o()()()}if(s&2){let e=t.$implicit,r=m(2);d(2),v(e.id_compra),d(2),v(r.formatFecha(e.fecha_compra)),d(4),v(r.getPrimerosProductos(e)),d(),c("ngIf",r.getProductosAdicionales(e)>0),d(),c("ngIf",r.getProductosAdicionales(e)>0),d(2),v(S(13,10,e.total,"COP","symbol-narrow","1.0-0")),d(3),v(e.nombre_usuario),d(2),T(" ",e.abreviatura_tipo_identificacion," ",e.identificacion_usuario," "),d(2),v(e.observaciones||"-")}}function be(s,t){if(s&1&&(n(0,"div",45)(1,"table",46)(2,"thead",47)(3,"tr",48)(4,"th",49),a(5,"ID Compra"),o(),n(6,"th",49),a(7,"Fecha"),o(),n(8,"th",49),a(9,"Producto"),o(),n(10,"th",49),a(11,"Total"),o(),n(12,"th",49),a(13,"Usuario"),o(),n(14,"th",49),a(15,"Identificaci\xF3n"),o(),n(16,"th",49),a(17,"Observaciones"),o(),n(18,"th",49),a(19,"Acciones"),o()()(),n(20,"tbody"),p(21,xe,25,15,"tr",50),o()()()),s&2){let e=m();d(21),c("ngForOf",e.rows)}}function fe(s,t){if(s&1){let e=C();n(0,"div",62),E(1,"div",63),n(2,"div",64)(3,"h3",65),a(4,"Confirmar eliminaci\xF3n"),o(),n(5,"p",66),a(6,"\xBFSeguro que deseas eliminar esta compra?"),o(),n(7,"div",67)(8,"button",68),x("click",function(){b(e);let i=m();return f(i.closeConfirm())}),a(9," Cancelar "),o(),n(10,"button",69),x("click",function(){b(e);let i=m();return f(i.doEliminarConfirmado())}),a(11," Eliminar "),o()()()()}}var X=class s{fb=I(W);comprasSrv=I(J);productosSrv=I(K);rows=[];productos=[];saving=!1;okMsg="";errorMsg="";errorMsgInline="";editando=!1;editId=null;confirmOpen=!1;pendingDeleteId=null;today=this.toTodayISO();form=this.fb.nonNullable.group({detalles:this.fb.array([]),fecha_compra:[this.today,[h.required]],observaciones:[""]});get detalles(){return this.form.get("detalles")}crearLineaCompra(){return this.fb.nonNullable.group({producto_id:["",[h.required]],cantidad:[null,[h.required,h.min(1),h.max(999999)]],costo_unitario:[{value:null,disabled:!0},[h.required,h.min(0),h.max(99999999)]]})}agregarLinea(){this.detalles.length>=200||this.detalles.push(this.crearLineaCompra())}eliminarLinea(t){this.detalles.removeAt(t)}isProductoOcupado(t,e){return t?this.detalles.controls.map((i,l)=>l!==e?Number(i.get("producto_id")?.value):null).filter(i=>i&&i>0).includes(t):!1}onProductoChange(t){let e=this.detalles.at(t),r=Number(e.get("producto_id")?.value);if(r&&this.isProductoOcupado(r,t)){e.get("producto_id")?.setValue(""),e.get("costo_unitario")?.setValue(null),this.showInline("Este producto ya est\xE1 seleccionado en otra l\xEDnea.");return}if(e.get("costo_unitario")?.enable(),!r){e.get("costo_unitario")?.setValue(null),e.get("costo_unitario")?.disable();return}let i=this.productos.find(l=>l.id_producto===r);if(i&&i.precio_costo!=null){let l=Math.floor(i.precio_costo);e.get("costo_unitario")?.setValue(l)}else e.get("costo_unitario")?.setValue(0);e.get("costo_unitario")?.disable()}subtotal(t){let e=this.detalles.at(t),r=Number(e.get("cantidad")?.value||0),i=Number(e.getRawValue().costo_unitario||0);return r*i}get total(){return this.detalles.controls.reduce((t,e)=>{let r=Number(e.get("cantidad")?.value||0),i=Number(e.getRawValue().costo_unitario||0);return t+r*i},0)}ngOnInit(){this.loadProductos(),this.loadData(),this.agregarLinea()}toTodayISO(){let t=new Date,e=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${r}-${i}`}onlyDigits(t){return(t||"").replace(/\D/g,"")}clampDigits(t,e){return this.onlyDigits(t).slice(0,e)}withThousands(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,".")}autoHideMessages(t=4e3){window.setTimeout(()=>{this.okMsg="",this.errorMsg="",this.errorMsgInline=""},t)}showOk(t){this.okMsg=t,this.errorMsg="",this.errorMsgInline="",this.autoHideMessages()}showError(t){this.errorMsg=t,this.okMsg="",this.autoHideMessages()}showInline(t){this.errorMsgInline=t,this.okMsg="",this.errorMsg="",this.autoHideMessages()}onInputMasked(t,e,r,i){let l=i.target,u=this.clampDigits(l.value,r),y=this.withThousands(u);l.value=y;let _=this.detalles.at(t);_.get(e)?.setValue(u?Number(u):null),_.get(e)?.markAsTouched(),this.errorMsgInline=""}loadProductos(){this.productosSrv.listar().subscribe({next:t=>this.productos=t||[],error:()=>this.productos=[]})}loadData(){this.comprasSrv.listar().subscribe({next:t=>this.rows=t||[],error:()=>this.rows=[]})}submit(){if(this.saving)return;if(this.detalles.length===0)return this.showInline("Debes agregar al menos un producto.");for(let i=0;i<this.detalles.length;i++){let l=this.detalles.at(i),u=l.get("producto_id")?.value,y=l.get("cantidad")?.value,_=l.getRawValue().costo_unitario;if(!u)return this.showInline(`L\xEDnea ${i+1}: Debes seleccionar un producto.`);if(!(y&&y>=1&&y<=999999))return this.showInline(`L\xEDnea ${i+1}: La cantidad debe estar entre 1 y 999.999.`);if(_===null||_<0||_>99999999)return this.showInline(`L\xEDnea ${i+1}: El precio unitario debe estar entre 0 y 99.999.999.`)}if(!this.form.value.fecha_compra)return this.showInline("Debes seleccionar la fecha de compra.");this.saving=!0,this.okMsg="",this.errorMsg="",this.errorMsgInline="";let e={detalles:this.detalles.controls.map(i=>({id_producto:Number(i.get("producto_id")?.value),cantidad:Math.floor(Number(i.get("cantidad")?.value)||0),precio_unitario:Math.floor(i.getRawValue().costo_unitario||0)})),fecha_compra:this.form.value.fecha_compra||void 0,observaciones:(this.form.value.observaciones||"").trim()||null};(this.editando&&this.editId!=null?this.comprasSrv.actualizar(this.editId,e):this.comprasSrv.crear(e)).pipe(M(()=>{this.saving=!1})).subscribe({next:i=>{if(Array.isArray(i?.warnings)&&i.warnings.length>0){console.warn("Warnings:",i.warnings);let l=i.warnings.map(u=>u.mensaje||u.message).join("; ");this.showOk(`${i?.message||(this.editando?"Compra actualizada correctamente.":"Compra registrada correctamente.")} ${l?`(Advertencias: ${l})`:""}`)}else this.showOk(i?.message||(this.editando?"Compra actualizada correctamente.":`Compra registrada correctamente.${i?.compra?.id_compra?` (ID: ${i.compra.id_compra})`:""}`));this.loadData(),this.resetForm()},error:i=>{let l=i?.error?.message||"Error al guardar la compra.";i?.status===400||i?.status===409?this.showInline(l):this.showError(l)}})}editar(t){this.editando=!0,this.editId=t.id_compra??null,this.editId!=null&&this.comprasSrv.obtenerPorId(this.editId).subscribe({next:e=>{let r=e.detalles||[];if(r.length>0){this.detalles.clear();for(let i of r){let l=this.crearLineaCompra(),u=Math.floor(Number(i.precio_unitario_compra)||0);l.get("producto_id")?.setValue(String(i.id_producto)),l.get("cantidad")?.setValue(Math.floor(Number(i.cantidad_detalle_compra)||0)),l.get("costo_unitario")?.enable(),l.get("costo_unitario")?.setValue(u),l.get("costo_unitario")?.disable(),this.detalles.push(l)}this.form.patchValue({fecha_compra:e.fecha_compra?e.fecha_compra.split("T")[0]:this.today,observaciones:e.observaciones||null})}else this.showError("La compra no tiene detalles.")},error:e=>{this.showError(e?.error?.message||"Error al cargar los detalles de la compra.")}}),window.scrollTo({top:0,behavior:"smooth"})}cancelarEdicion(){this.resetForm()}confirmarEliminar(t){this.pendingDeleteId=t??null,this.confirmOpen=!0}closeConfirm(){this.confirmOpen=!1,this.pendingDeleteId=null}doEliminarConfirmado(){if(this.pendingDeleteId==null){this.closeConfirm();return}let t=this.pendingDeleteId;this.closeConfirm(),this.comprasSrv.eliminar(t).pipe(M(()=>{})).subscribe({next:e=>{this.showOk(e?.message||"Compra eliminada correctamente y stock revertido."),this.loadData()},error:e=>{let r=e?.error?.message||"Error al eliminar compra.";e?.status===400||e?.status===409?this.showInline(r):this.showError(r)}})}onBeforeInputDigits(t,e,r){let i=t.inputType||"";if(i.startsWith("delete")||i==="historyUndo"||i==="historyRedo")return;let l=t.target,u=t.data??"",y=l.selectionStart??l.value.length,_=l.selectionEnd??l.value.length,Z=(l.value.slice(0,y)||"").replace(/\D/g,""),ee=(l.value.slice(_)||"").replace(/\D/g,""),te=(String(u)||"").replace(/\D/g,"");Z.length+te.length+ee.length>r&&t.preventDefault()}resetForm(){this.editando=!1,this.editId=null,this.detalles.clear(),this.agregarLinea(),this.form.patchValue({fecha_compra:this.today,observaciones:null})}formatFecha(t){if(!t)return"-";try{let e=new Date(t),r=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),l=e.getFullYear();return`${r}/${i}/${l}`}catch{return t}}getPrimerosProductos(t){return!t.detalles||t.detalles.length===0?"-":t.detalles.slice(0,2).map(e=>`${e.nombre_producto} (${Math.floor(e.cantidad_detalle_compra||0)})`).join(", ")}getProductosAdicionales(t){return!t.detalles||t.detalles.length<=2?0:t.detalles.length-2}getProductosCompletos(t){return!t.detalles||t.detalles.length===0?"Sin productos":t.detalles.map(e=>`\u2022 ${e.nombre_producto} (${Math.floor(e.cantidad_detalle_compra||0)})`).join(`
`)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=k({type:s,selectors:[["app-compras"]],decls:42,vars:21,consts:[[1,"space-y-6"],[1,"text-center","text-xl","font-bold"],["class","mx-auto w-full max-w-3xl rounded-xl border border-green-500/40 bg-green-500/10 px-4 py-3 text-green-300 text-center",4,"ngIf"],["class","mx-auto w-full max-w-3xl rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-red-300 text-center",4,"ngIf"],[1,"mx-auto","w-full","max-w-3xl","rounded-2xl","bg-surface-800","border","border-white/5","p-6","sm:p-7"],[1,"text-lg","font-semibold","text-brand-500","mb-4"],["novalidate","",1,"space-y-5",3,"ngSubmit","formGroup"],["formArrayName","detalles",1,"space-y-3"],["class","grid gap-3 md:grid-cols-12 items-center",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"w-full","rounded-xl","border-2","border-dashed","border-brand-500/70","text-brand-500","font-semibold","py-3","px-5","hover:bg-brand-500","hover:text-black","transition","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-brand-500",3,"click"],[1,"mt-4","pt-4","border-t","border-white/10"],[1,"text-center","font-semibold","whitespace-nowrap"],[1,"text-brand-500"],[1,"grid","gap-4","sm:grid-cols-2"],[1,"block","text-sm","mb-1"],["type","date","formControlName","fecha_compra",1,"w-full","rounded-xl","bg-surface-900","border","border-white/10","px-4","py-3","outline-none","focus:border-brand-500",3,"max"],["type","text","formControlName","observaciones","placeholder","Opcional",1,"w-full","rounded-xl","bg-surface-900","border","border-white/10","px-4","py-3","outline-none","focus:border-brand-500","placeholder:text-sm"],[1,"flex","flex-col","sm:flex-row","gap-3"],["type","submit",1,"flex-1","rounded-xl","border-2","border-dashed","border-brand-500/70","text-brand-500","font-semibold","py-3","hover:bg-brand-500","hover:text-black","transition","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-brand-500",3,"disabled"],["type","button","class","rounded-xl border border-white/10 px-4 py-3 hover:bg-white/5 transition",3,"click",4,"ngIf"],[1,"mx-auto","w-full","max-w-6xl"],[1,"rounded-2xl","bg-surface-800","border","border-white/5","overflow-hidden"],[1,"px-6","py-4","border-b","border-white/5","font-semibold"],["class","px-6 py-10 text-center text-textc-mute",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","fixed inset-0 z-[60] flex items-center justify-center",4,"ngIf"],[1,"mx-auto","w-full","max-w-3xl","rounded-xl","border","border-green-500/40","bg-green-500/10","px-4","py-3","text-green-300","text-center"],[1,"mx-auto","w-full","max-w-3xl","rounded-xl","border","border-red-500/40","bg-red-500/10","px-4","py-3","text-red-300","text-center"],[1,"grid","gap-3","md:grid-cols-12","items-center",3,"formGroupName"],[1,"md:col-span-4"],["class","block text-sm mb-1",4,"ngIf"],["formControlName","producto_id",1,"w-full","rounded-xl","bg-surface-900","border","border-white/10","px-4","py-3","outline-none","focus:border-brand-500",3,"change"],["value",""],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"md:col-span-3"],["type","text","inputmode","numeric","autocomplete","off","placeholder","Cantidad (m\xE1x. 999.999)",1,"w-full","rounded-xl","bg-surface-900","border","border-white/10","px-4","py-3","outline-none","focus:border-brand-500","placeholder:text-[14px]",3,"beforeinput","input","value"],[1,"md:col-span-2","text-sm"],[1,"text-textc-mute"],[1,"font-semibold"],[1,"font-semibold","text-brand-500"],[1,"md:col-span-1","flex","justify-end"],["type","button","aria-label","Quitar producto","title","Quitar producto",1,"px-2","py-2","rounded-lg","text-pink-400","hover:text-pink-300",3,"click"],[3,"value","disabled"],["type","button",1,"rounded-xl","border","border-white/10","px-4","py-3","hover:bg-white/5","transition",3,"click"],[1,"px-6","py-10","text-center","text-textc-mute"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-surface-900/60"],[1,"border-b","border-white/5"],[1,"px-6","py-3"],["class","border-b border-white/5",4,"ngFor","ngForOf"],[1,"px-6","py-3","text-sm"],[1,"relative","group","inline-block"],[1,"text-gray-300"],["class","ml-1 px-2 py-0.5 bg-brand-500/20 text-brand-400 rounded text-xs cursor-help",4,"ngIf"],["class","absolute left-0 w-80 p-3 rounded-lg bg-surface-900 border border-brand-500/30 shadow-2xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50 pointer-events-none -top-2 -translate-y-full",4,"ngIf"],["type","button",1,"text-brand-500","hover:text-brand-600","mr-3",3,"click"],["type","button",1,"text-red-400","hover:text-red-300",3,"click"],[1,"ml-1","px-2","py-0.5","bg-brand-500/20","text-brand-400","rounded","text-xs","cursor-help"],[1,"absolute","left-0","w-80","p-3","rounded-lg","bg-surface-900","border","border-brand-500/30","shadow-2xl","opacity-0","invisible","group-hover:opacity-100","group-hover:visible","transition-all","duration-200","z-50","pointer-events-none","-top-2","-translate-y-full"],[1,"text-xs","font-semibold","text-brand-400","mb-2"],[1,"text-xs","text-gray-300","whitespace-pre-line","leading-relaxed","max-h-60","overflow-y-auto"],[1,"fixed","inset-0","z-[60]","flex","items-center","justify-center"],[1,"absolute","inset-0","bg-black/60"],[1,"relative","z-[61]","w-full","max-w-md","rounded-2xl","bg-surface-800","border","border-white/10","p-6","shadow-xl"],[1,"text-lg","font-semibold","mb-2"],[1,"text-sm","text-textc-mute"],[1,"mt-6","flex","gap-3","justify-end"],["type","button",1,"rounded-xl","border","border-white/10","px-4","py-2","hover:bg-white/5",3,"click"],["type","button",1,"rounded-xl","bg-red-500/90","text-black","font-semibold","px-4","py-2","hover:bg-red-400",3,"click"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"h2",1),a(2),o(),p(3,ie,2,1,"div",2)(4,re,2,1,"div",3)(5,ne,2,1,"div",3),n(6,"section",4)(7,"h3",5),a(8),o(),n(9,"form",6),x("ngSubmit",function(){return r.submit()}),n(10,"div",7),p(11,ce,28,22,"div",8),o(),n(12,"button",9),x("click",function(){return r.agregarLinea()}),a(13," + Agregar producto "),o(),n(14,"div",10)(15,"div",11),a(16," Total de compra: "),n(17,"span",12),a(18),w(19,"currency"),o()()(),n(20,"div",13)(21,"div")(22,"label",14),a(23,"Fecha de compra "),n(24,"span",12),a(25,"*"),o()(),E(26,"input",15),o(),n(27,"div")(28,"label",14),a(29,"Observaciones"),o(),E(30,"input",16),o()(),n(31,"div",17)(32,"button",18),a(33),o(),p(34,me,2,0,"button",19),o()()(),n(35,"section",20)(36,"div",21)(37,"div",22),a(38,"Compras registradas"),o(),p(39,ue,2,0,"div",23)(40,be,22,1,"div",24),o()(),p(41,fe,12,0,"div",25),o()),e&2&&(d(2),g(" ",r.editando?"Editar compra":"Registrar Compra"," "),d(),c("ngIf",r.okMsg),d(),c("ngIf",r.errorMsg),d(),c("ngIf",r.errorMsgInline),d(3),g(" ",r.editando?"Editar compra":"Registrar compra"," "),d(),c("formGroup",r.form),d(2),c("ngForOf",r.detalles.controls),d(7),v(S(19,16,r.total,"COP","symbol-narrow","1.0-0")),d(8),c("max",V(r.today)),d(6),c("disabled",r.saving),d(),g(" ",r.saving?"Guardando...":r.editando?"Actualizar compra":"Registrar compra"," "),d(),c("ngIf",r.editando),d(5),c("ngIf",r.rows.length===0),d(),c("ngIf",r.rows.length>0),d(),c("ngIf",r.confirmOpen))},dependencies:[$,N,D,Y,z,U,Q,A,H,L,G,B,q,R,j,O,P],encapsulation:2})};export{X as Compras};
