import{c as $,m as M,n as N,p as V,r as R}from"./chunk-R2MBKBQG.js";import{a as h}from"./chunk-Y5NMKK7J.js";import{B as T,Ca as A,Ga as c,M as w,Mb as j,Nb as D,R as f,Sa as l,Sb as O,Ta as n,Ua as o,Va as b,X as _,Y as g,Ya as E,Yb as v,Za as x,_a as u,a as k,b as C,eb as s,fb as S,gb as p,ta as a}from"./chunk-4VXNIXON.js";var I=class r{http=f(v);base=`${h.apiBaseUrl}/permisos`;listarTodos(){return this.http.get(this.base)}obtenerPorRol(t){return this.http.get(`${this.base}/rol/${t}`)}asignar(t){return this.http.post(this.base,t)}asignarBulk(t){return this.http.post(`${this.base}/bulk`,t)}quitar(t,e){return this.http.delete(`${this.base}/rol/${t}/formulario/${e}`)}eliminarTodosDeRol(t){return this.http.delete(`${this.base}/rol/${t}`)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};var P=class r{http=f(v);base=`${h.apiBaseUrl}/formularios`;listar(){return this.http.get(this.base)}static \u0275fac=function(e){return new(e||r)};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};function L(r,t){if(r&1&&(n(0,"div",27),s(1),o()),r&2){let e=u();a(),p(" ",e.okMsg," ")}}function q(r,t){if(r&1&&(n(0,"div",28),s(1),o()),r&2){let e=u();a(),p(" ",e.errorMsg," ")}}function Y(r,t){if(r&1&&(n(0,"div",29),s(1),o()),r&2){let e=u();a(),p(" ",e.errorMsgInline," ")}}function U(r,t){if(r&1&&(n(0,"option",30),s(1),o()),r&2){let e=t.$implicit;l("value",e.id_rol),a(),p(" ",e.nombre_rol," ")}}function G(r,t){r&1&&(n(0,"span",42),s(1,"\u2713 Ya asignado"),o())}function Q(r,t){r&1&&(n(0,"span",42),s(1,"\u2713 Ya asignado"),o())}function J(r,t){if(r&1){let e=E();n(0,"div",45)(1,"input",46),x("change",function(){let m=_(e).$implicit,d=u(4);return g(d.toggleFormularioBulk(m.id_formulario))}),o(),n(2,"label",47)(3,"span",48),s(4),o(),n(5,"span",49),s(6,"\u{1F4C4} (Hijo)"),o(),c(7,Q,2,0,"span",39),o()()}if(r&2){let e=t.$implicit,i=u(4);a(),l("checked",i.estaSeleccionadoBulk(e.id_formulario))("disabled",i.form.value.id_rol&&i.tienePermiso(i.toNumber(i.form.value.id_rol),e.id_formulario)),a(3),S(e.titulo_formulario),a(3),l("ngIf",i.form.value.id_rol&&i.tienePermiso(i.toNumber(i.form.value.id_rol),e.id_formulario))}}function K(r,t){if(r&1&&(n(0,"div",43),c(1,J,8,4,"div",44),o()),r&2){let e=u().$implicit;a(),l("ngForOf",e.hijos)}}function W(r,t){r&1&&(n(0,"div",50),s(1," \u26A0\uFE0F Este padre no tiene hijos asignables "),o())}function X(r,t){if(r&1&&(n(0,"div",34)(1,"div",35),b(2,"input",36),n(3,"label",37)(4,"span",38),s(5),o(),c(6,G,2,0,"span",39),o()(),c(7,K,2,1,"div",40)(8,W,2,0,"div",41),o()),r&2){let e=t.$implicit,i=u(2);a(2),l("checked",!1)("disabled",!0),a(3),p("\u{1F4C1} ",e.titulo_formulario," (Padre)"),a(),l("ngIf",i.form.value.id_rol&&i.tienePermiso(i.toNumber(i.form.value.id_rol),e.id_formulario)),a(),l("ngIf",e.hijos.length>0),a(),l("ngIf",e.hijos.length===0)}}function Z(r,t){r&1&&(n(0,"span",42),s(1,"\u2713 Ya asignado"),o())}function ee(r,t){if(r&1){let e=E();n(0,"div",45)(1,"input",46),x("change",function(){let m=_(e).$implicit,d=u(3);return g(d.toggleFormularioBulk(m.id_formulario))}),o(),n(2,"label",47)(3,"span",48),s(4),o(),c(5,Z,2,0,"span",39),o()()}if(r&2){let e=t.$implicit,i=u(3);a(),l("checked",i.estaSeleccionadoBulk(e.id_formulario))("disabled",i.form.value.id_rol&&i.tienePermiso(i.toNumber(i.form.value.id_rol),e.id_formulario)),a(3),S(e.titulo_formulario),a(),l("ngIf",i.form.value.id_rol&&i.tienePermiso(i.toNumber(i.form.value.id_rol),e.id_formulario))}}function te(r,t){if(r&1&&(n(0,"div",51),c(1,ee,6,4,"div",44),o()),r&2){let e=u(2);a(),l("ngForOf",e.formulariosAgrupados.independientes)}}function ie(r,t){if(r&1&&(n(0,"div",31),c(1,X,9,6,"div",32)(2,te,2,1,"div",33),o()),r&2){let e=u();a(),l("ngForOf",e.formulariosAgrupados.padres),a(),l("ngIf",e.formulariosAgrupados.independientes.length>0)}}function re(r,t){r&1&&(n(0,"div",52),s(1," \u23F3 Cargando formularios... "),o())}function oe(r,t){r&1&&(n(0,"div",53),s(1," \u26A0\uFE0F No hay formularios disponibles en la base de datos. "),o())}function ne(r,t){r&1&&(n(0,"div",54),s(1," Cargando... "),o())}function se(r,t){r&1&&(n(0,"div",54),s(1," No hay permisos asignados. "),o())}function ae(r,t){r&1&&(n(0,"span",67),s(1," Padre "),o())}function le(r,t){r&1&&(n(0,"span",68),s(1," Hijo "),o())}function me(r,t){r&1&&(n(0,"span",69),s(1," Independiente "),o())}function de(r,t){if(r&1){let e=E();n(0,"tr",58)(1,"td",59)(2,"div",61),s(3),o(),n(4,"div",62),s(5),o()(),n(6,"td",59)(7,"div"),s(8),o(),n(9,"div",62),s(10),o()(),n(11,"td",59),c(12,ae,2,0,"span",63)(13,le,2,0,"span",64)(14,me,2,0,"span",65),o(),n(15,"td",59)(16,"button",66),x("click",function(){let m=_(e).$implicit,d=u(2);return g(d.confirmarEliminar(m.id_rol,m.id_formulario))}),s(17," Eliminar "),o()()()}if(r&2){let e=t.$implicit,i=u(2);a(3),S(i.getNombreRol(e.id_rol)),a(2),p("ID: ",e.id_rol),a(3),S(e.titulo_formulario),a(2),p("ID: ",e.id_formulario),a(2),l("ngIf",e.is_padre),a(),l("ngIf",!e.is_padre&&e.padre_id),a(),l("ngIf",!e.is_padre&&!e.padre_id)}}function ue(r,t){if(r&1&&(n(0,"div",55)(1,"table",56)(2,"thead",57)(3,"tr",58)(4,"th",59),s(5,"Rol"),o(),n(6,"th",59),s(7,"Formulario"),o(),n(8,"th",59),s(9,"Tipo"),o(),n(10,"th",59),s(11,"Acciones"),o()()(),n(12,"tbody"),c(13,de,18,7,"tr",60),o()()()),r&2){let e=u();a(13),l("ngForOf",e.permisosAsignados)}}function ce(r,t){if(r&1&&(n(0,"span",79)(1,"strong"),s(2,"Rol:"),o(),s(3),b(4,"br"),n(5,"strong"),s(6,"Formulario:"),o(),s(7),o()),r&2){let e=u(2);a(3),p(" ",e.getNombreRol(e.pendingDelete.idRol)),a(4),p(" ",e.getNombreFormulario(e.pendingDelete.idFormulario)," ")}}function pe(r,t){if(r&1){let e=E();n(0,"div",70),b(1,"div",71),n(2,"div",72)(3,"h3",73),s(4,"Confirmar eliminaci\xF3n"),o(),n(5,"p",9),s(6," \xBFEst\xE1s seguro de eliminar este permiso? "),c(7,ce,8,2,"span",74),n(8,"span",75),s(9," \u26A0\uFE0F Si el formulario es padre, tambi\xE9n se eliminar\xE1n todos sus hijos. "),o()(),n(10,"div",76)(11,"button",77),x("click",function(){_(e);let m=u();return g(m.closeConfirm())}),s(12," Cancelar "),o(),n(13,"button",78),x("click",function(){_(e);let m=u();return g(m.doEliminarConfirmado())}),s(14," Eliminar "),o()()()()}if(r&2){let e=u();a(7),l("ngIf",e.pendingDelete)}}var z=class r{fb=f(V);permisosSrv=f(I);formulariosSrv=f(P);http=f(v);API=h.apiBaseUrl;okMsg="";errorMsg="";errorMsgInline="";saving=!1;loadingList=!1;loadingFormularios=!1;roles=[];formularios=[];permisosAsignados=[];formulariosSeleccionados=new Set;get formulariosAgrupados(){let t=this.formularios.filter(m=>m.is_padre),e=this.formularios.filter(m=>m.padre_id),i=this.formularios.filter(m=>!m.is_padre&&!m.padre_id);return{padres:t.map(m=>C(k({},m),{hijos:e.filter(d=>d.padre_id===m.id_formulario)})),independientes:i}}confirmOpen=!1;pendingDelete=null;form=this.fb.nonNullable.group({id_rol:["",[$.required]]});ngOnInit(){this.loadRoles(),this.loadFormularios(),this.loadPermisosAsignados()}autoHide(t=4e3){window.setTimeout(()=>{this.okMsg="",this.errorMsg="",this.errorMsgInline=""},t)}showOk(t){this.okMsg=t,this.errorMsg="",this.errorMsgInline="",this.autoHide()}showError(t){this.errorMsg=t,this.okMsg="",this.errorMsgInline="",this.autoHide()}showInline(t){this.errorMsgInline=t,this.okMsg="",this.errorMsg="",this.autoHide()}loadRoles(){this.http.get(`${this.API}/roles`).subscribe({next:t=>this.roles=(t||[]).filter(e=>e.estado==="A"||!e.estado),error:()=>this.roles=[]})}loadFormularios(){this.loadingFormularios=!0,this.formulariosSrv.listar().subscribe({next:t=>{this.formularios=t||[],this.loadingFormularios=!1,console.log("\u2705 Formularios cargados:",this.formularios.length,t),this.formularios.length===0&&this.showError("\u26A0\uFE0F No hay formularios en la base de datos. Es necesario ejecutar el script SQL de inserci\xF3n de formularios.")},error:t=>{console.error("\u274C Error al cargar formularios:",t),this.formularios=[],this.loadingFormularios=!1,this.showError('\u274C Error al cargar los formularios. Verifica que el backend est\xE9 funcionando y que exista la tabla "formularios" en la base de datos.')}})}loadPermisosAsignados(){this.loadingList=!0,this.permisosSrv.listarTodos().subscribe({next:t=>{this.permisosAsignados=t||[],this.loadingList=!1},error:()=>{this.permisosAsignados=[],this.loadingList=!1}})}getNombreRol(t){return this.roles.find(i=>i.id_rol===t)?.nombre_rol||`Rol #${t}`}getNombreFormulario(t){return this.formularios.find(i=>i.id_formulario===t)?.titulo_formulario||`Formulario #${t}`}tienePermiso(t,e){return this.permisosAsignados.some(i=>i.id_rol===t&&i.id_formulario===e)}toNumber(t){return Number(t)||0}getPermisosPorRol(t){return this.permisosAsignados.filter(e=>e.id_rol===t)}toggleFormularioBulk(t){this.formulariosSeleccionados.has(t)?this.formulariosSeleccionados.delete(t):this.formulariosSeleccionados.add(t)}estaSeleccionadoBulk(t){return this.formulariosSeleccionados.has(t)}submitBulk(){if(this.saving)return;let t=Number(this.form.value.id_rol);if(!t||t<=0)return this.showInline("Debes seleccionar un rol.");if(this.formulariosSeleccionados.size===0)return this.showInline("Debes seleccionar al menos un formulario.");let e=Array.from(this.formulariosSeleccionados),i=e.filter(d=>this.formularios.find(F=>F.id_formulario===d)?.is_padre);if(i.length>0){let d=i.map(y=>this.formularios.find(H=>H.id_formulario===y)?.titulo_formulario||`ID ${y}`).join(", ");return this.showInline(`No puedes asignar solo formularios padre (${d}). Debes seleccionar al menos un formulario hijo de cada padre.`)}let m=e;this.saving=!0,this.okMsg="",this.errorMsg="",this.errorMsgInline="",this.permisosSrv.asignarBulk({id_rol:t,id_formularios:m}).pipe(T(()=>{this.saving=!1})).subscribe({next:d=>{let y=`${d?.message||"Permisos asignados correctamente."} (Asignados: ${d?.asignados||0}, Ya exist\xEDan: ${d?.yaExistian||0}, Padres asignados autom\xE1ticamente: ${d?.padresAsignados||0})`;this.showOk(y),this.loadPermisosAsignados(),this.formulariosSeleccionados.clear(),window.scrollTo({top:0,behavior:"smooth"})},error:d=>{this.showError(d?.error?.message||"Error al asignar permisos.")}})}confirmarEliminar(t,e){this.pendingDelete={idRol:t,idFormulario:e},this.confirmOpen=!0}closeConfirm(){this.confirmOpen=!1,this.pendingDelete=null}doEliminarConfirmado(){if(!this.pendingDelete){this.closeConfirm();return}let{idRol:t,idFormulario:e}=this.pendingDelete;this.closeConfirm(),this.permisosSrv.quitar(t,e).subscribe({next:i=>{let m=i?.message||"Permiso eliminado correctamente.";i?.hijosEliminados&&i.hijosEliminados>0&&(m+=` (Se eliminaron ${i.hijosEliminados} formularios hijos autom\xE1ticamente)`),this.showOk(m),this.loadPermisosAsignados()},error:i=>{this.showError(i?.error?.message||"Error al eliminar permiso.")}})}eliminarTodosDeRol(t){confirm(`\xBFEst\xE1s seguro de eliminar TODOS los permisos del rol "${this.getNombreRol(t)}"?`)&&this.permisosSrv.eliminarTodosDeRol(t).subscribe({next:e=>{this.showOk(e?.message||`Se eliminaron ${e?.total||0} permisos.`),this.loadPermisosAsignados()},error:e=>{this.showError(e?.error?.message||"Error al eliminar permisos.")}})}resetForm(){this.form.reset({id_rol:""}),this.formulariosSeleccionados.clear()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=A({type:r,selectors:[["app-permisos"]],decls:51,vars:14,consts:[[1,"space-y-6"],[1,"text-center","space-y-2"],[1,"text-xl","font-bold"],[1,"text-sm","text-textc-mute","max-w-2xl","mx-auto"],["class","mx-auto w-full max-w-4xl rounded-xl border border-green-500/40 bg-green-500/10 px-4 py-3 text-green-300 text-center",4,"ngIf"],["class","mx-auto w-full max-w-4xl rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-red-300 text-center whitespace-pre-line",4,"ngIf"],["class","mx-auto w-full max-w-4xl rounded-xl border border-red-500/40 bg-red-500/10 px-4 py-3 text-red-300 text-center",4,"ngIf"],[1,"mx-auto","w-full","max-w-4xl","rounded-2xl","bg-surface-800","border","border-white/5","p-6","sm:p-7"],[1,"text-lg","font-semibold","text-brand-500","mb-4"],[1,"text-sm","text-textc-mute","mb-4"],[1,"space-y-4"],[1,"block","text-sm","mb-1"],[1,"text-brand-500"],[1,"w-full","rounded-xl","bg-surface-900","border","border-white/10","px-4","py-3","outline-none","focus:border-brand-500",3,"change","value"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","max-h-96 overflow-y-auto border border-white/10 rounded-xl p-4 space-y-4",4,"ngIf"],["class","text-center text-textc-mute py-4",4,"ngIf"],["class","text-center text-yellow-400 py-4 border border-yellow-500/20 rounded-xl bg-yellow-500/10",4,"ngIf"],["type","button",1,"w-full","rounded-xl","border-2","border-dashed","border-brand-500/70","text-brand-500","font-semibold","py-3","hover:bg-brand-500","hover:text-black","transition","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-brand-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"mx-auto","w-full","max-w-5xl"],[1,"rounded-2xl","bg-surface-800","border","border-white/5","overflow-hidden"],[1,"px-6","py-4","border-b","border-white/5","font-semibold","flex","justify-between","items-center"],["type","button",1,"text-sm","text-brand-500","hover:text-brand-400",3,"click"],["class","px-6 py-10 text-center text-textc-mute",4,"ngIf"],["class","overflow-x-auto",4,"ngIf"],["class","fixed inset-0 z-[60] flex items-center justify-center",4,"ngIf"],[1,"mx-auto","w-full","max-w-4xl","rounded-xl","border","border-green-500/40","bg-green-500/10","px-4","py-3","text-green-300","text-center"],[1,"mx-auto","w-full","max-w-4xl","rounded-xl","border","border-red-500/40","bg-red-500/10","px-4","py-3","text-red-300","text-center","whitespace-pre-line"],[1,"mx-auto","w-full","max-w-4xl","rounded-xl","border","border-red-500/40","bg-red-500/10","px-4","py-3","text-red-300","text-center"],[3,"value"],[1,"max-h-96","overflow-y-auto","border","border-white/10","rounded-xl","p-4","space-y-4"],["class","space-y-2",4,"ngFor","ngForOf"],["class","space-y-2 pt-2 border-t border-white/10",4,"ngIf"],[1,"space-y-2"],[1,"flex","items-center","gap-3","py-2","border-b","border-white/5"],["type","checkbox",1,"w-4","h-4","rounded","border-white/20","bg-surface-900","text-brand-500","opacity-50","cursor-not-allowed",3,"checked","disabled"],[1,"flex-1"],[1,"font-semibold","text-blue-400"],["class","text-xs text-green-400 ml-2",4,"ngIf"],["class","ml-6 space-y-1",4,"ngIf"],["class","ml-6 text-xs text-yellow-400",4,"ngIf"],[1,"text-xs","text-green-400","ml-2"],[1,"ml-6","space-y-1"],["class","flex items-center gap-3 py-1",4,"ngFor","ngForOf"],[1,"flex","items-center","gap-3","py-1"],["type","checkbox",1,"w-4","h-4","rounded","border-white/20","bg-surface-900","text-brand-500","focus:ring-brand-500","cursor-pointer",3,"change","checked","disabled"],[1,"flex-1","cursor-pointer"],[1,"font-medium"],[1,"text-xs","text-purple-400","ml-2"],[1,"ml-6","text-xs","text-yellow-400"],[1,"space-y-2","pt-2","border-t","border-white/10"],[1,"text-center","text-textc-mute","py-4"],[1,"text-center","text-yellow-400","py-4","border","border-yellow-500/20","rounded-xl","bg-yellow-500/10"],[1,"px-6","py-10","text-center","text-textc-mute"],[1,"overflow-x-auto"],[1,"w-full","text-left","text-sm"],[1,"bg-surface-900/60"],[1,"border-b","border-white/5"],[1,"px-6","py-3"],["class","border-b border-white/5",4,"ngFor","ngForOf"],[1,"font-semibold"],[1,"text-xs","text-textc-mute"],["class","inline-flex items-center px-2 py-1 rounded text-xs font-semibold bg-blue-500/20 text-blue-400",4,"ngIf"],["class","inline-flex items-center px-2 py-1 rounded text-xs font-semibold bg-purple-500/20 text-purple-400",4,"ngIf"],["class","inline-flex items-center px-2 py-1 rounded text-xs font-semibold bg-gray-500/20 text-gray-400",4,"ngIf"],["type","button",1,"text-red-400","hover:text-red-300","text-sm",3,"click"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-semibold","bg-blue-500/20","text-blue-400"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-semibold","bg-purple-500/20","text-purple-400"],[1,"inline-flex","items-center","px-2","py-1","rounded","text-xs","font-semibold","bg-gray-500/20","text-gray-400"],[1,"fixed","inset-0","z-[60]","flex","items-center","justify-center"],[1,"absolute","inset-0","bg-black/60"],[1,"relative","z-[61]","w-full","max-w-md","rounded-2xl","bg-surface-800","border","border-white/10","p-6","shadow-xl"],[1,"text-lg","font-semibold","mb-2"],["class","block mt-2",4,"ngIf"],[1,"block","mt-2","text-yellow-400","text-xs"],[1,"mt-6","flex","gap-3","justify-end"],["type","button",1,"rounded-xl","border","border-white/10","px-4","py-2","hover:bg-white/5",3,"click"],["type","button",1,"rounded-xl","bg-red-500/90","text-black","font-semibold","px-4","py-2","hover:bg-red-400",3,"click"],[1,"block","mt-2"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"Gesti\xF3n de Permisos"),o(),n(4,"p",3),s(5," Este m\xF3dulo controla qu\xE9 formularios puede ver cada rol. Si asignas un formulario a un rol, ese rol tendr\xE1 acceso completo (crear, leer, actualizar, eliminar) a ese formulario. "),b(6,"br"),n(7,"strong"),s(8,"Ejemplo:"),o(),s(9,' Si asignas "Ventas" al rol "Vendedor", entonces los usuarios con rol "Vendedor" podr\xE1n ver y usar el formulario de Ventas. '),o()(),c(10,L,2,1,"div",4)(11,q,2,1,"div",5)(12,Y,2,1,"div",6),n(13,"section",7)(14,"h3",8),s(15,"Asignaci\xF3n de permisos"),o(),n(16,"p",9),s(17," Selecciona un rol y marca los formularios que deseas asignar. "),n(18,"strong"),s(19,"Importante:"),o(),s(20," Los formularios padre (\u{1F4C1}) no se pueden asignar directamente, solo sus hijos (\u{1F4C4}). Si asignas un formulario hijo, el padre se asignar\xE1 autom\xE1ticamente. Al asignar un permiso, el rol tendr\xE1 acceso completo (crear, leer, actualizar, eliminar) al formulario. "),b(21,"br"),n(22,"strong"),s(23,"Ejemplo:"),o(),s(24,' Seleccionas "Vendedor" y marcas "Permisos" (hijo de "Seguridad") \u2192 se asignan ambos: "Permisos" y su padre "Seguridad" autom\xE1ticamente. '),o(),n(25,"div",10)(26,"div")(27,"label",11),s(28,"Rol "),n(29,"span",12),s(30,"*"),o()(),n(31,"select",13),x("change",function(d){return i.form.patchValue({id_rol:d.target.value})}),n(32,"option",14),s(33,"Seleccionar rol\u2026"),o(),c(34,U,2,2,"option",15),o()(),c(35,ie,3,2,"div",16)(36,re,2,0,"div",17)(37,oe,2,0,"div",18),n(38,"button",19),x("click",function(){return i.submitBulk()}),s(39),o()()(),n(40,"section",20)(41,"div",21)(42,"div",22)(43,"span"),s(44,"Permisos asignados"),o(),n(45,"button",23),x("click",function(){return i.loadPermisosAsignados()}),s(46," \u{1F504} Actualizar "),o()(),c(47,ne,2,0,"div",24)(48,se,2,0,"div",24)(49,ue,14,1,"div",25),o()(),c(50,pe,15,1,"div",26),o()),e&2&&(a(10),l("ngIf",i.okMsg),a(),l("ngIf",i.errorMsg),a(),l("ngIf",i.errorMsgInline),a(19),l("value",i.form.value.id_rol||""),a(3),l("ngForOf",i.roles),a(),l("ngIf",i.form.value.id_rol&&!i.loadingFormularios&&i.formularios.length>0),a(),l("ngIf",i.loadingFormularios),a(),l("ngIf",i.form.value.id_rol&&!i.loadingFormularios&&i.formularios.length===0),a(),l("disabled",i.saving||!i.form.value.id_rol||i.formulariosSeleccionados.size===0),a(),p(" ",i.saving?"Guardando\u2026":`Asignar ${i.formulariosSeleccionados.size} formulario(s)`," "),a(8),l("ngIf",i.loadingList),a(),l("ngIf",!i.loadingList&&i.permisosAsignados.length===0),a(),l("ngIf",!i.loadingList&&i.permisosAsignados.length>0),a(),l("ngIf",i.confirmOpen))},dependencies:[O,j,D,R,M,N],encapsulation:2})};export{z as Permisos};
